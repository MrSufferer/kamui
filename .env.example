# Kamui VRF Server Production Configuration
# Copy this file to .env and customize for your environment

# ===== NETWORK CONFIGURATION =====
# Solana RPC endpoint - CHANGE THIS for mainnet deployment
SOLANA_RPC_URL=https://api.devnet.solana.com
SOLANA_WS_URL=wss://api.devnet.solana.com

# For mainnet deployment, use:
# SOLANA_RPC_URL=https://api.mainnet-beta.solana.com  
# SOLANA_WS_URL=wss://api.mainnet-beta.solana.com

# ===== SERVER CONFIGURATION =====
# How often to poll for new VRF requests (milliseconds)
POLLING_INTERVAL=5000

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Node environment
NODE_ENV=production

# ===== KEY MANAGEMENT =====
# Path to oracle keypair file (must exist and be funded)
ORACLE_KEYPAIR_PATH=./oracle-keypair.json

# Path to VRF keypair file (auto-generated if doesn't exist)  
VRF_KEYPAIR_PATH=./vrf-keypair.json

# ===== CLI CONFIGURATION =====
# Path to Mangekyou CLI directory (where the binary is built)
MANGEKYOU_CLI_PATH=.

# ===== PROGRAM IDS (DEPLOYED ON DEVNET) =====
# VRF Coordinator Program ID
VRF_PROGRAM_ID=6k1Lmt37b5QQAhPz5YXbTPoHCSCDbSEeNAC96nWZn85a

# Consumer Program ID
CONSUMER_PROGRAM_ID=2Pd6R21gGNJgrfxHQPegcXgwmSd5MY1uHBYrNAtYgPbE

# Verifier Program ID  
VERIFIER_PROGRAM_ID=4qqRVYJAeBynm2yTydBkTJ9wVay3CrUfZ7gf9chtWS5Y

# ===== OPERATIONAL SETTINGS =====
# Maximum retries for failed transactions
MAX_RETRIES=3

# Transaction timeout (milliseconds)
TRANSACTION_TIMEOUT=30000

# Maximum number of requests to process per polling cycle
MAX_REQUESTS_PER_CYCLE=10

# ===== MONITORING & HEALTH =====
# Enable performance metrics collection
ENABLE_METRICS=true

# Health check endpoint port (0 to disable)
HEALTH_CHECK_PORT=8080

# ===== SECURITY =====
# Maximum age of processed requests to keep in memory (minutes)
PROCESSED_REQUEST_TTL=60

# Enable request deduplication
ENABLE_DEDUPLICATION=true

# ===== DEVELOPMENT SETTINGS =====
# Only relevant when LOG_LEVEL=debug
DEBUG_CLI_OUTPUT=false
DEBUG_TRANSACTION_DETAILS=false
DEBUG_ACCOUNT_PARSING=false
